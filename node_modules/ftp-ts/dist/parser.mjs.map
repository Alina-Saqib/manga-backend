{"version":3,"file":"parser.mjs","sources":["../src/parser.ts"],"sourcesContent":[null],"names":["RE_ENTRY_TOTAL","RE_RES_END","RE_EOL","RE_DASH","MONTHS","Map","Parser","WritableStream","constructor","options","super","this","_buffer","_debug","debug","static","text","lines","split","shift","pop","i","len","length","trim","async","chunk","encoding","cb","m","toString","exec","rest","substring","index","code","parseInt","reRmLeadCode","reRmLeadCode2","RegExp","replace","emit","REX_LISTUNIX","REX_LISTMSDOS","modeToChars","v","parseMlsxEntry","line","mlsx","r","name","startsWith","eq","indexOf","sc","toLowerCase","toUpperCase","parseMlsxEntryInner","info","acl","undefined","date","group","owner","rights","size","sticky","target","type","modify","reg","ms","iv","mul","Math","pow","Date","UTC","mode","user","other","perm","c","Object","assign","parseListEntry","ret","temp","match","date1","date2","hour","inodes","minute","month1","month2","permission","year","regListUnix","pos","lastbit","slice","month","get","day","getFullYear","min","monthS","dayS","hourS","minS","getTime","now","ampm","isdir","regListMsDos","mins","test"],"mappings":"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"}